@page "/{channel?}/{feed?}/{year:int:min(1969):max(2100)?}/{month:int:min(1):max(12)?}/{day:int:min(1):max(31)?}/{post?}"

@model IndexModel
@{
    ViewData["Title"] = "Home";
}

@if (Model.Granularity == IndexModel.GranularityLevel.None)
{
    @* nothing to show since no user logged in *@
    <h1 class="text-center display-1">Nothing to show, please log in to see the news.</h1>
}
else if (Model.Granularity <= IndexModel.GranularityLevel.Posts)
{
    <partial name="Index/_Post" model="Model.Channels.First()" />
}
else if (Model.Granularity == IndexModel.GranularityLevel.Feed)
{
    <partial name="Index/_Feed" model="Model.Channels.First()" />
}
else if (Model.Granularity >= IndexModel.GranularityLevel.Channel)
{
    <partial name="Index/_Channel" model="Model.Channels" />
}
